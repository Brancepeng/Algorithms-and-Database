stack和栈heap
在计算机科学中，堆和栈是两个重要的数据结构，它们都可以用来存储程序执行时的数据。
数据结构中的堆和栈与操作系统中所说的队内存和栈内存不是一个概念.


栈（Stack）是一种后进先出（Last-In-First-Out, LIFO）的数据结构，类比于我们平时使用的一叠书，只有最上面的那本书可以被拿走。在计算机中，栈被用来存储局部变量、函数参数、返回地址以及一些临时数据，每次函数调用时会自动分配一段空间，当函数返回时，这段空间就被释放掉了。栈是一个连续的内存区域，由栈底和栈顶两个指针来维护。

堆（Heap）则是一种可以随意存储、释放的数据结构，类比于我们在一片草地上随意放置物品，然后可以随意拿走。在计算机中，堆被用来存储动态分配的内存，例如在程序运行时使用malloc或new等函数申请的内存，需要在使用完后手动释放。堆是一段非连续的内存区域，由操作系统来维护。



堆和栈存在于计算机RAM中,RAM是指随机存取存储器,是与CPU直接交换数据的内部存储器，也叫主存(内存)。

栈区:由编译器自动分配和释放，存放函数的参数值、局部变量的值等。其操作方式类似于数据结构中的栈。
堆区(heap):一般由程序员分配和释放，若程序员不释放，程序结束时可能由操作系统回收。它与数据机构中的堆是两回事，分配方式类似于链表。

全局区(静态区)(static):全局变量和静态变量的存储是放在一起的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另外一块区域。程序结束后由系统释放。

堆和栈的区别
1申请方式
栈：由系统自动分配。例如在声明函数的一个局部变量int b，系统自动在栈中为b开辟空间。
堆：需要程序员自己申请，并指明大小，在C中用malloc函数；在C++中用new运算符。

2申请后系统的响应
栈：只要栈的剩余空间大于所申请的空间，系统将为程序提供内存，否则将报异常提示栈溢出。
堆：操作系统有一个记录空间内存地址的链表，当系统收到程序的申请时，会遍历链表，寻找第一个空间大于所申请空间的堆节点，然后将节点从内存空闲节点链表中删除，并将该节点的空间分配给程序。对于大多数操作系统，会在这块内存空间中的首地址处记录本次分配的大小，这样，代码中的delete语句才能正确的释放本内存空间。另外，由于找到的对节点的大小不一定正好等于申请的大小，系统会自动地将多余的那部分重新放入到链表中。

3申请大小的限制
栈：在Windows下，栈是向低地址拓展的数据结构，是一块连续的内存的区域。站定地址和栈的大小是系统预先规定好的，如果申请的内存空间超过栈的剩余空间，将提示栈溢出。
堆：堆是向高地址拓展的内存结构，是不连续的内存区域。是系统用链表存储空闲内存地址的，不连续。

4申请效率的比较
栈：由系统自动分配，速度较快。但程序员无法控制。
堆：由new分配的内存，一般速度比较慢，而且容易产生内存碎片，不过用起来方便。
 拓展：在Windows操作系统中，最好的方式使用VirtualAlloc分配内存。不是在堆，不是在栈，而是在内存空间中保留一块内存，虽然用起来不方便，但是速度快，也很灵活。

 